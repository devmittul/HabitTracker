"use strict";(self.webpackChunkhabit_tracker=self.webpackChunkhabit_tracker||[]).push([[733],{733:(e,n,a)=>{a.r(n),a.d(n,{default:()=>d});var i=a(555),s=a(43),l=a(216),r=a(899),t=a(104),o=a(579);const c=e=>{let{enabled:n=!1,time:a="20:00",onChange:i,onPermissionChange:l}=e;const[r,c]=(0,s.useState)(n),[d,m]=(0,s.useState)(a),[h,u]=(0,s.useState)(!1),[x,p]=(0,s.useState)("default");(0,s.useEffect)((()=>{const e=(0,t.Vx)();u(e),e&&"Notification"in window&&p(Notification.permission)}),[]);return h?(0,o.jsxs)("div",{className:"reminder-control",children:[(0,o.jsxs)("div",{className:"reminder-toggle-container",children:[(0,o.jsxs)("label",{className:"toggle-switch",children:[(0,o.jsx)("input",{type:"checkbox",checked:r,onChange:async e=>{const n=e.target.checked;if(c(n),n&&"granted"!==x){const{status:e}=await(0,t.mT)();if(p(e),l&&l(e),"granted"!==e)return void c(!1)}i&&i(n,d)}}),(0,o.jsx)("span",{className:"toggle-slider"})]}),(0,o.jsx)("span",{className:"reminder-label",children:"Daily Reminder"}),"denied"===x&&(0,o.jsx)("div",{className:"permission-denied-message",children:"Notification permission was denied. Please enable notifications in your browser settings."})]}),r&&"granted"===x&&(0,o.jsxs)("div",{className:"time-picker-container",children:[(0,o.jsx)("label",{htmlFor:"reminderTime",children:"Reminder Time:"}),(0,o.jsx)("input",{type:"time",id:"reminderTime",value:d,onChange:e=>{const n=e.target.value;m(n),r&&i&&i(r,n)},className:"time-input"})]})]}):(0,o.jsx)("div",{className:"reminder-control",children:(0,o.jsx)("p",{className:"unsupported-message",children:"Reminders are not supported in your browser."})})},d=()=>{const e=(0,l.Zp)(),{addHabit:n}=(0,r.L)(),[a,t]=(0,s.useState)({title:"",description:"",category:"Health",icon:"\ud83d\udca7",target:1,unit:"times",frequency:"daily",weeklyDay:1,monthlyDate:1,color:"#6d9ee1",reminderEnabled:!1,reminderTime:"20:00"}),d=e=>{const{name:n,value:a}=e.target;t((e=>(0,i.A)((0,i.A)({},e),{},{[n]:"target"===n?parseInt(a)||1:a})))};return(0,o.jsxs)("div",{className:"add-habit-container animate-in",children:[(0,o.jsx)("h2",{className:"page-title",children:"Add New Habit"}),(0,o.jsx)("div",{className:"glass-card form-card",children:(0,o.jsxs)("form",{onSubmit:i=>{i.preventDefault(),n(a),e("/habits")},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"title",children:"Habit Name"}),(0,o.jsx)("input",{type:"text",id:"title",name:"title",placeholder:"E.g., Drink Water",value:a.title,onChange:d,required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"description",children:"Description"}),(0,o.jsx)("textarea",{id:"description",name:"description",placeholder:"E.g., Drink 8 glasses of water daily",value:a.description,onChange:d})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"category",children:"Category"}),(0,o.jsx)("select",{id:"category",name:"category",value:a.category,onChange:d,children:["Health","Productivity","Wellness","Fitness","Learning","Finance"].map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"frequency",children:"Frequency"}),(0,o.jsxs)("select",{id:"frequency",name:"frequency",value:a.frequency,onChange:d,children:[(0,o.jsx)("option",{value:"daily",children:"Daily"}),(0,o.jsx)("option",{value:"weekly",children:"Weekly"}),(0,o.jsx)("option",{value:"monthly",children:"Monthly"})]})]})]}),"weekly"===a.frequency&&(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"weeklyDay",children:"Day of Week"}),(0,o.jsxs)("select",{id:"weeklyDay",name:"weeklyDay",value:a.weeklyDay,onChange:d,children:[(0,o.jsx)("option",{value:1,children:"Monday"}),(0,o.jsx)("option",{value:2,children:"Tuesday"}),(0,o.jsx)("option",{value:3,children:"Wednesday"}),(0,o.jsx)("option",{value:4,children:"Thursday"}),(0,o.jsx)("option",{value:5,children:"Friday"}),(0,o.jsx)("option",{value:6,children:"Saturday"}),(0,o.jsx)("option",{value:0,children:"Sunday"})]})]}),"monthly"===a.frequency&&(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"monthlyDate",children:"Day of Month"}),(0,o.jsx)("select",{id:"monthlyDate",name:"monthlyDate",value:a.monthlyDate,onChange:d,children:[...Array(31)].map(((e,n)=>(0,o.jsx)("option",{value:n+1,children:n+1},n+1)))})]}),(0,o.jsxs)("div",{className:"form-row",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"target",children:"Target"}),(0,o.jsx)("input",{type:"number",id:"target",name:"target",min:"1",value:a.target,onChange:d})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"unit",children:"Unit"}),(0,o.jsx)("input",{type:"text",id:"unit",name:"unit",placeholder:"times, glasses, minutes, etc.",value:a.unit,onChange:d})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Icon"}),(0,o.jsx)("div",{className:"icons-grid",children:["\ud83d\udca7","\ud83c\udfc3\u200d\u2642\ufe0f","\ud83d\udcda","\ud83e\uddd8\u200d\u2640\ufe0f","\ud83c\udf4e","\ud83d\udca4","\ud83d\udcbb","\ud83c\udfb5","\ud83c\udfcb\ufe0f\u200d\u2640\ufe0f","\ud83e\uddf9","\ud83d\udc8a","\ud83d\udeb0"].map((e=>(0,o.jsx)("div",{className:"icon-option ".concat(a.icon===e?"selected":""),onClick:()=>t((n=>(0,i.A)((0,i.A)({},n),{},{icon:e}))),children:e},e)))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Color"}),(0,o.jsx)("div",{className:"colors-grid",children:["#6d9ee1","#a991d4","#f9c5d1","#b0e0a8","#f9d89c","#f4a7a7"].map((e=>(0,o.jsx)("div",{className:"color-option ".concat(a.color===e?"selected":""),style:{backgroundColor:e},onClick:()=>t((n=>(0,i.A)((0,i.A)({},n),{},{color:e}))),children:a.color===e&&"\u2713"},e)))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Reminder"}),(0,o.jsx)(c,{enabled:a.reminderEnabled,time:a.reminderTime,onChange:(e,n)=>{t((a=>(0,i.A)((0,i.A)({},a),{},{reminderEnabled:e,reminderTime:n})))},onPermissionChange:e=>{"granted"!==e&&console.log("Notification permission not granted")}})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/habits"),children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Habit"})]})]})})]})}}}]);
//# sourceMappingURL=733.93e8eb06.chunk.js.map