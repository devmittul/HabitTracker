"use strict";(self.webpackChunkhabit_tracker=self.webpackChunkhabit_tracker||[]).push([[696],{655:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(43),c=a(899),n=a(579);const i=e=>{let{percentage:t,color:a="#6d9ee1"}=e;const c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=c.current;e&&(e.style.width="".concat(t,"%"),e.style.background=t<33?"linear-gradient(to right, ".concat(a,"88, ").concat(a,"aa)"):t<66?"linear-gradient(to right, ".concat(a,"aa, ").concat(a,"cc)"):"linear-gradient(to right, ".concat(a,"cc, ").concat(a,")"),t>=100?e.classList.add("completed"):e.classList.remove("completed"))}),[t,a]),(0,n.jsx)("div",{className:"progress-container",children:(0,n.jsx)("div",{ref:c,className:"progress-bar",style:{width:"0%"}})})},r=(0,s.memo)((e=>{var t;let{habit:a}=e;const{toggleHabit:r,setProgress:l,deleteHabit:d}=(0,c.L)(),[o,h]=(0,s.useState)(0),[u,b]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),x=(0,s.useRef)(null),j=(0,s.useRef)(0),p=(0,s.useRef)(0),v=(new Date).toISOString().split("T")[0],N=null===(t=a.history)||void 0===t?void 0:t.find((e=>e.date===v)),C=N&&N.completed;(0,s.useEffect)((()=>{h(N?N.value:0)}),[N]);const k=(0,s.useCallback)((e=>{j.current=e.touches[0].clientX}),[]),f=(0,s.useCallback)((e=>{p.current=e.changedTouches[0].clientX,y()}),[]),y=(0,s.useCallback)((()=>{j.current-p.current<-75&&(C||S())}),[C]);(0,s.useEffect)((()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const w=(0,s.useCallback)((e=>{h(e),l(a.id,e),e>=a.target?r(a.id,v,!0,e):r(a.id,v,!1,e)}),[a.id,a.target,l,r,v]),L=(0,s.useCallback)((()=>{const e=Math.min(o+1,a.target);w(e)}),[o,a.target,w]),S=(0,s.useCallback)((()=>{r(a.id,v,!C,C?0:a.target),h(C?0:a.target),g(!1)}),[a.id,a.target,C,r,v]),E=(0,s.useCallback)((()=>{b(!0),g(!1)}),[]),H=(0,s.useCallback)((()=>{d(a.id),b(!1)}),[d,a.id]),T=(0,s.useCallback)((()=>{b(!1)}),[]),A=a.target?o/a.target*100:0;return a?(0,n.jsxs)("div",{ref:x,className:"glass-card habit-card ".concat(C?"completed":""),onTouchStart:k,onTouchEnd:f,children:[(0,n.jsx)("div",{className:"habit-category",children:a.category||"Uncategorized"}),(0,n.jsx)("button",{className:"delete-habit-btn",onClick:E,"aria-label":"Delete habit",children:"\xd7"}),(0,n.jsxs)("div",{className:"habit-header",children:[(0,n.jsx)("div",{className:"habit-icon",children:a.icon||"\u2713"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"habit-title",children:a.title}),(0,n.jsx)("p",{className:"habit-description",children:a.description||"No description"})]})]}),(0,n.jsx)(i,{percentage:A,color:a.color||"#6d9ee1"}),(0,n.jsxs)("div",{className:"habit-stats",children:[(0,n.jsxs)("div",{className:"habit-target",children:[(0,n.jsx)("span",{className:"progress-value",children:o})," / ",(0,n.jsx)("span",{children:a.target})," ",a.unit||"times"]}),(0,n.jsx)("div",{className:"habit-streak",children:(0,n.jsxs)("span",{children:["\ud83d\udd25 ",a.streak||0," day streak"]})})]}),(0,n.jsxs)("div",{className:"habit-actions",children:[(0,n.jsx)("button",{className:"btn btn-secondary",onClick:L,disabled:C,children:(0,n.jsxs)("span",{children:["+1 ",a.unit||"time"]})}),(0,n.jsx)("button",{className:"btn ".concat(C?"btn-secondary":"btn-primary"),onClick:S,children:(0,n.jsx)("span",{children:C?"Undo":"Complete"})})]}),u&&(0,n.jsx)("div",{className:"delete-confirm-overlay",children:(0,n.jsxs)("div",{className:"delete-confirm-modal glass-card",children:[(0,n.jsx)("h4",{children:"Delete Habit"}),(0,n.jsxs)("p",{children:['Are you sure you want to delete "',a.title,'"? This action cannot be undone.']}),(0,n.jsxs)("div",{className:"delete-confirm-actions",children:[(0,n.jsx)("button",{className:"btn btn-secondary",onClick:T,children:"Cancel"}),(0,n.jsx)("button",{className:"btn btn-danger",onClick:H,children:"Delete"})]})]})})]}):null}));r.displayName="HabitCard";const l=r},696:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(43),c=a(899),n=a(655),i=a(579);const r=()=>{const{habits:e}=(0,c.L)(),[t,a]=(0,s.useState)("all"),[r,l]=(0,s.useState)(""),d=["all",...new Set(e.map((e=>e.category)))],o=e.filter((e=>{const a="all"===t||e.category===t,s=e.title.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase());return a&&s}));return(0,i.jsxs)("div",{className:"habits-list-container animate-in",children:[(0,i.jsx)("h2",{className:"page-title",children:"My Habits"}),(0,i.jsxs)("div",{className:"glass-card filters-card",children:[(0,i.jsx)("div",{className:"search-container",children:(0,i.jsx)("input",{type:"text",placeholder:"Search habits...",value:r,onChange:e=>l(e.target.value)})}),(0,i.jsx)("div",{className:"category-filters",children:d.map((e=>(0,i.jsx)("button",{className:"filter-btn ".concat(t===e?"active":""),onClick:()=>a(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),o.length>0?(0,i.jsx)("div",{className:"habits-grid",children:o.map((e=>(0,i.jsx)(n.A,{habit:e},e.id)))}):(0,i.jsx)("div",{className:"glass-card empty-state",children:(0,i.jsx)("p",{children:"No habits found matching your criteria."})})]})}}}]);
//# sourceMappingURL=696.ee225631.chunk.js.map