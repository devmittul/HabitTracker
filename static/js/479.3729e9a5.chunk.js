"use strict";(self.webpackChunkhabit_tracker=self.webpackChunkhabit_tracker||[]).push([[479],{479:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(43),c=a(899),n=a(655),r=a(579);const i=()=>{const{habits:e}=(0,c.L)(),[t,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(0),[d,o]=(0,s.useState)(0),[h,u]=(0,s.useState)(""),m=["Small daily improvements are the key to staggering long-term results.","The only bad workout is the one that didn't happen.","A habit cannot be tossed out the window; it must be coaxed down the stairs a step at a time.","We first make our habits, and then our habits make us.","Motivation is what gets you started. Habit is what keeps you going.","Habits are the compound interest of self-improvement.","Success is the sum of small efforts, repeated day in and day out."];return(0,s.useEffect)((()=>{const t=m[Math.floor(Math.random()*m.length)];u(t);const s=new Date,c=s.getDay(),n=s.getDate(),r=e.filter((e=>{switch(e.frequency){case"daily":default:return!0;case"weekly":return c===(e.weeklyDay||1);case"monthly":return n===(e.monthlyDate||1)}}));if(a(r),r.length>0){const e=s.toISOString().split("T")[0],t=r.filter((t=>t.history.some((t=>t.date===e&&t.completed)))).length;l(Math.round(t/r.length*100))}if(e.length>0){const t=Math.max(...e.map((e=>e.streak)));o(t)}}),[e]),(0,r.jsxs)("div",{className:"dashboard-container animate-in",children:[(0,r.jsx)("h2",{className:"page-title",children:"Today's Overview"}),(0,r.jsx)("div",{className:"glass-card quote-card",children:(0,r.jsxs)("p",{className:"quote",children:['"',h,'"']})}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"glass-card stat-card",children:[(0,r.jsx)("h3",{children:"Today's Progress"}),(0,r.jsx)("div",{className:"progress-container",children:(0,r.jsx)("div",{className:"progress-bar",style:{width:"".concat(i,"%"),background:"linear-gradient(to right, var(--primary-color), var(--secondary-color))"}})}),(0,r.jsxs)("p",{className:"stat-value",children:[i,"% Complete"]})]}),(0,r.jsxs)("div",{className:"glass-card stat-card",children:[(0,r.jsx)("h3",{children:"Total Habits"}),(0,r.jsx)("p",{className:"stat-value",children:e.length})]}),(0,r.jsxs)("div",{className:"glass-card stat-card",children:[(0,r.jsx)("h3",{children:"Longest Streak"}),(0,r.jsxs)("p",{className:"stat-value",children:["\ud83d\udd25 ",d," days"]})]})]}),(0,r.jsx)("h2",{className:"section-title",children:"Today's Habits"}),t.length>0?(0,r.jsx)("div",{className:"habits-grid",children:t.map((e=>(0,r.jsx)(n.A,{habit:e},e.id)))}):(0,r.jsx)("div",{className:"glass-card empty-state",children:(0,r.jsx)("p",{children:"No habits for today. Add a new habit to get started!"})})]})}},655:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(43),c=a(899),n=a(579);const r=e=>{let{percentage:t,color:a="#6d9ee1"}=e;const c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=c.current;e&&(e.style.width="".concat(t,"%"),e.style.background=t<33?"linear-gradient(to right, ".concat(a,"88, ").concat(a,"aa)"):t<66?"linear-gradient(to right, ".concat(a,"aa, ").concat(a,"cc)"):"linear-gradient(to right, ".concat(a,"cc, ").concat(a,")"),t>=100?e.classList.add("completed"):e.classList.remove("completed"))}),[t,a]),(0,n.jsx)("div",{className:"progress-container",children:(0,n.jsx)("div",{ref:c,className:"progress-bar",style:{width:"0%"}})})},i=(0,s.memo)((e=>{var t;let{habit:a}=e;const{toggleHabit:i,setProgress:l,deleteHabit:d}=(0,c.L)(),[o,h]=(0,s.useState)(0),[u,m]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!1),x=(0,s.useRef)(null),j=(0,s.useRef)(0),p=(0,s.useRef)(0),v=(new Date).toISOString().split("T")[0],y=null===(t=a.history)||void 0===t?void 0:t.find((e=>e.date===v)),N=y&&y.completed;(0,s.useEffect)((()=>{h(y?y.value:0)}),[y]);const f=(0,s.useCallback)((e=>{j.current=e.touches[0].clientX}),[]),k=(0,s.useCallback)((e=>{p.current=e.changedTouches[0].clientX,w()}),[]),w=(0,s.useCallback)((()=>{j.current-p.current<-75&&(N||T())}),[N]);(0,s.useEffect)((()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const C=(0,s.useCallback)((e=>{h(e),l(a.id,e),e>=a.target?i(a.id,v,!0,e):i(a.id,v,!1,e)}),[a.id,a.target,l,i,v]),S=(0,s.useCallback)((()=>{const e=Math.min(o+1,a.target);C(e)}),[o,a.target,C]),T=(0,s.useCallback)((()=>{i(a.id,v,!N,N?0:a.target),h(N?0:a.target),g(!1)}),[a.id,a.target,N,i,v]),D=(0,s.useCallback)((()=>{m(!0),g(!1)}),[]),H=(0,s.useCallback)((()=>{d(a.id),m(!1)}),[d,a.id]),E=(0,s.useCallback)((()=>{m(!1)}),[]),L=a.target?o/a.target*100:0;return a?(0,n.jsxs)("div",{ref:x,className:"glass-card habit-card ".concat(N?"completed":""),onTouchStart:f,onTouchEnd:k,children:[(0,n.jsx)("div",{className:"habit-category",children:a.category||"Uncategorized"}),(0,n.jsx)("button",{className:"delete-habit-btn",onClick:D,"aria-label":"Delete habit",children:"\xd7"}),(0,n.jsxs)("div",{className:"habit-header",children:[(0,n.jsx)("div",{className:"habit-icon",children:a.icon||"\u2713"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"habit-title",children:a.title}),(0,n.jsx)("p",{className:"habit-description",children:a.description||"No description"})]})]}),(0,n.jsx)(r,{percentage:L,color:a.color||"#6d9ee1"}),(0,n.jsxs)("div",{className:"habit-stats",children:[(0,n.jsxs)("div",{className:"habit-target",children:[(0,n.jsx)("span",{className:"progress-value",children:o})," / ",(0,n.jsx)("span",{children:a.target})," ",a.unit||"times"]}),(0,n.jsx)("div",{className:"habit-streak",children:(0,n.jsxs)("span",{children:["\ud83d\udd25 ",a.streak||0," day streak"]})})]}),(0,n.jsxs)("div",{className:"habit-actions",children:[(0,n.jsx)("button",{className:"btn btn-secondary",onClick:S,disabled:N,children:(0,n.jsxs)("span",{children:["+1 ",a.unit||"time"]})}),(0,n.jsx)("button",{className:"btn ".concat(N?"btn-secondary":"btn-primary"),onClick:T,children:(0,n.jsx)("span",{children:N?"Undo":"Complete"})})]}),u&&(0,n.jsx)("div",{className:"delete-confirm-overlay",children:(0,n.jsxs)("div",{className:"delete-confirm-modal glass-card",children:[(0,n.jsx)("h4",{children:"Delete Habit"}),(0,n.jsxs)("p",{children:['Are you sure you want to delete "',a.title,'"? This action cannot be undone.']}),(0,n.jsxs)("div",{className:"delete-confirm-actions",children:[(0,n.jsx)("button",{className:"btn btn-secondary",onClick:E,children:"Cancel"}),(0,n.jsx)("button",{className:"btn btn-danger",onClick:H,children:"Delete"})]})]})})]}):null}));i.displayName="HabitCard";const l=i}}]);
//# sourceMappingURL=479.3729e9a5.chunk.js.map